# 数独求解器 (Sudoku Solver)

这是一个基于 Next.js 开发的智能数独求解器，支持手动输入、图片识别和自动求解功能。

## 核心功能

- **手动输入数独**：提供直观的 9x9 网格界面，用户可手动输入数字
- **随机生成数独**：支持简单、中等、困难三种难度级别的随机题目生成
- **图片识别**：支持上传数独图片进行识别（目前使用模拟数据）  
- **自动求解**：使用回溯算法快速解决数独难题
- **国际化支持**：完整的中英文语言切换，包括界面和路由
- **响应式设计**：适配不同设备屏幕尺寸

## 技术栈

- **前端框架**：Next.js 15、React 19
- **语言**：TypeScript
- **样式**：Tailwind CSS
- **后端**：Next.js API Routes
- **部署**：Docker 容器化支持

## 项目结构

```
src/
├── app/
│   ├── [lang]/          # 国际化路由
│   │   └── page.tsx     # 多语言主页面
│   ├── api/
│   │   ├── solve/       # 数独求解算法API
│   │   ├── parse-image/ # 图片解析API
│   │   └── generate/    # 随机生成数独API
│   ├── globals.css      # 全局样式
│   ├── layout.tsx       # 布局组件
│   └── page.tsx         # 根页面重定向
├── components/
│   └── LanguageSwitcher.tsx  # 语言切换组件
├── i18n/
│   └── locales/         # 多语言配置文件
│       ├── zh.ts        # 中文翻译
│       └── en.ts        # 英文翻译
└── middleware.ts        # 路由中间件配置
```

## 算法实现

### 数独求解算法
采用经典的**回溯法**（Backtracking）：
1. 遍历 9x9 网格寻找空白位置
2. 尝试填入 1-9 的数字
3. 验证行、列、3x3 宫格的唯一性
4. 递归求解，失败时回溯

### 数独生成算法
1. **完整填充**：使用回溯算法生成完整的有效数独解
2. **随机打乱**：使用 Fisher-Yates 算法随机化数字顺序
3. **难度控制**：根据难度移除不同数量的数字
   - 简单：移除 35 个数字（保留 46 个）
   - 中等：移除 45 个数字（保留 36 个）
   - 困难：移除 55 个数字（保留 26 个）

## 快速开始

### 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建项目
npm run build

# 启动生产服务器
npm start
```

### Docker 部署

```bash
# 构建镜像
docker build -t sudoku-solver .

# 运行容器
docker run -p 3000:3000 sudoku-solver
```

访问 [http://localhost:3000](http://localhost:3000) 查看应用。

## 使用说明

1. **自动生成题目**：页面加载时会根据当前难度自动生成一道数独题
2. **选择难度**：使用下拉菜单选择简单、中等或困难级别
3. **随机生成**：点击"随机生成"按钮创建新的数独题目
4. **手动输入**：直接在网格中输入数字（1-9）
5. **图片上传**：点击"上传数独图片"按钮选择图片文件
6. **自动求解**：点击"解决数独"按钮自动求解
7. **语言切换**：通过语言切换器选择中文或英文界面

## 开发计划

- [x] ~~添加数独生成功能~~
- [x] ~~支持多种难度级别~~
- [ ] 集成真实的 OCR 图像识别服务
- [ ] 添加求解步骤展示动画
- [ ] 添加数独验证功能
- [ ] 支持用户自定义难度
- [ ] 添加游戏计时器
- [ ] 优化移动端体验

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 许可证

MIT License
